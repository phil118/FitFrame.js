!function(a,e,t,i){var r="fitFrame",h="plugin_"+r;function o(t,i,e){this.element=a(t),this.options=a.extend({},e,i),this._defaults=e,this._init()}o.prototype={update:function(){"resize"===this.options.mode?this._resizeNew():this._wrapNew()},wrap:function(t){var i=100*this._calculateRatio(t)+"%",e=a("<div/>").addClass(this.options.wrapperCssClass).css("padding-bottom",i);return t.wrap(e).parent()},resize:function(t){return this._setupIframe(t),this._resizeIframe(t,this.element.width(),this.element.height(),this.options.fitHeight),t},destroy:function(){var i=this;"resize"===i.options.mode?(this.element.find("iframe."+this.options.iframeCssClass).each(function(){var t=a(this).data(r);a(this).removeClass(i.options.iframeCssClass).width(t.width).height(t.height).data(r,null)}),this._unbind()):this.element.find("."+this.options.wrapperCssClass).children().unwrap(),this.element.data(h,null)},_init:function(){"resize"===this.options.mode&&this._bind(),this.update()},_wrapNew:function(){var t=this;this.element.find("iframe").filter(function(){return!a(this).closest(t.options.wrapperCssClass).length}).each(function(){t.wrap(a(this))})},_resizeNew:function(){var t=this;a("iframe").not(this.options.iframeCssClass).each(function(){t._setupIframe(a(this))}),this._resizeAll()},_setupIframe:function(t){t.data(r,{ratio:this._calculateRatio(t),width:t.width(),height:t.height()}).addClass(this.options.iframeCssClass)},_resizeAll:function(){var t=this,i=this.element.width(),e=this.element.height(),s=this.options.fitHeight;this.element.find("iframe."+this.options.iframeCssClass).each(function(){t._resizeIframe(a(this),i,e,s)})},_resizeIframe:function(t,i,e,s){var n=t.data(r).ratio;s&&e<i*n?t.height(e).width(e/n):t.height(i*n).width("100%")},_calculateRatio:function(t){var i=t.attr("width"),e=t.attr("height");return i||(i=t.width()),e||(e=t.height()),(e/i).toPrecision(4)},_bind:function(){var t,i=this;a(e).on("resize."+r,function(){clearTimeout(t),t=setTimeout(function(){i._resizeAll()},100)})},_unbind:function(){a(e).off("."+r)}},a.fn[r]=function(e){var s,n=arguments;return this.each(function(){var t=a.data(this,h);if(t){if("string"==typeof e&&"_"!==e[0]){var i=t[e];"function"==typeof i?s=i.apply(t,Array.prototype.slice.call(n,1)):a.error("Public method '"+e+"' does not exist on jQuery."+r)}}else a.data(this,h,new o(this,e,a.fn[r].defaults))}),void 0!==s?s:this},a.fn[r].defaults={wrapperCssClass:"fitframe-wrap",iframeCssClass:"fitframe",mode:"wrap",fitHeight:!1}}(jQuery,window,document);